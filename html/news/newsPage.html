<!DOCTYPE html>
<html>
<head>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

	<link rel="stylesheet" type="text/css" href="/css/body.css">
	<link rel="stylesheet" type="text/css" href="/css/main.css">
	<link rel="icon" href="/images/favicon.ico" type="image/x-icon"> <!-- logo -->
	<script src="/js/hamburgerMenu.js"></script>

	<title>AC Milan News</title>

	<script>

		function loadPage() {
			fetch("/html/header.html" /*, options */)
			.then((response) => response.text())
			.then((html) => {
				document.getElementById("headerSpace").innerHTML = html;
			})
			.catch((error) => {
				console.warn(error);
			});

			fetch("/html/footer.html" /*, options */)
			.then((response) => response.text())
			.then((html) => {
				document.getElementById("footerSpace").innerHTML = html;
			})
			.catch((error) => {
				console.warn(error);
			}); 

			var xhttp = new XMLHttpRequest();
			xhttp.overrideMimeType("application/json");
			xhttp.open("GET", "/json/news/" + localStorage.getItem("newsId") + ".json", true);
			xhttp.send();

			xhttp.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					var obj = JSON.parse(this.responseText);

					document.getElementById("newsItem").querySelector("h1").innerHTML = obj.title;
					document.getElementById("param1").innerHTML = obj.param1.replace("\\n", "<br/>");
					document.getElementById("mainImg").src = obj.mainImg;
					document.getElementById("param2").innerHTML = obj.param2;
					document.getElementById("lowerImg").src = obj.img;
				}
			};

		}

    </script>

    <style type="text/css">
    	#mainImg {
    		width: 70%;
    		display: block;
    		margin: auto;
    	}

    	.newsTitle {
    		color: red;
    		text-transform: uppercase;
    	}
    </style>
	
</head>

<body onload="loadPage()">

	<div class="main-container">

 		<div id="headerSpace" class=""></div>

 		<img id="mainImg">
 		<div id="newsItem" class="center-main">
 			<h1 class="newsTitle"></h1>

 			<p id="param1"></p>
 			<img id="lowerImg">
 			<p id="param2"></p>
 		</div>

 		

 		<div id="footerSpace"></div>
 	</div>

</body>
</html>