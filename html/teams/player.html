<!DOCTYPE html>
<html>
<head>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

  <link rel="stylesheet" type="text/css" href="/css/body.css">
  <link rel="stylesheet" type="text/css" href="/css/main.css">
  <link rel="stylesheet" type="text/css" href="/css/teams/menTeam.css">
  <link rel="stylesheet" type="text/css" href="/css/teams/player.css">
  <link rel="icon" href="/images/favicon.ico" type="image/x-icon"> <!-- logo -->
  <script src="/js/hamburgerMenu.js"></script>

  <title>AC Milan Squad</title>

  <script>

    function loadPage() {
			fetch("/html/header.html" /*, options */)
			.then((response) => response.text())
			.then((html) => {
				document.getElementById("headerSpace").innerHTML = html;
			})
			.catch((error) => {
				console.warn(error);
			});

			fetch("/html/footer.html" /*, options */)
			.then((response) => response.text())
			.then((html) => {
				document.getElementById("footerSpace").innerHTML = html;
			})
			.catch((error) => {
				console.warn(error);
			}); 

      var xhttp = new XMLHttpRequest();
      xhttp.overrideMimeType("application/json");
      xhttp.open("GET", "/json/players/" + localStorage.getItem("playerId") + ".json", true);
      xhttp.send();

      xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
          var obj = JSON.parse(this.responseText);
          document.getElementById("playerInfo").innerHTML = `
            <div class="player-content" >
              <img src="` + obj.img + `" class="player-img">
              <div class="back-img"></div>

              <div class="player-info">
                <div class="upperInfo">
                  <h1 class="allInfo">
                    <div class="num">` + obj.num + `</div>
                    <span class="border"></span>
                    <div class="name">
                      <div class="player-name">` + obj.name + `</div>
                      <div class="player-lastname">` + obj.lastname + `</div>
                    </div>
                  </h1>
                </div>

                <div class="jersey">
                  <a href="` + obj.jersey + `" target="_blank" class="jerseyButton">Buy the jersey</a>
                </div>
              </div>

            </div>
          `;


          document.getElementById("bio").innerHTML = obj.info;

          if(localStorage.getItem("playerId") < 28) {
            document.getElementById("transferButton").innerHTML = `
              <a href="` + obj.link + `" target="_blank" class="transferA" >
                <button class="shopItemButton bioButton">
                  <h3>SEE MORE</h3>
                </button>
              </a>
            `;
          }
          
        }
      };

  }

  </script>

</head>

<body onload="loadPage()">

<div id="headerSpace"></div>

<div class="center-player" id="playerInfo"></div>
<div class="biography" id="bio"></div>
<div id="transferButton"></div>

<div id="footerSpace"></div>

</body>
</html>
